<?php
$bd_addressbook = array( 
			"Rajshahi" => array( 
				"Joypurhat" => array( 
				    "Akkelpur",
				    "Joypurhat Sadar",
				    "Kalai",
				    "Khetlal",
				    "Panchbibi"
				),
				"Bogra" => array( 
					"Adamdighi",
					"Bogra Sadar",
					"Dhunat",
					"Dhupchanchia",
					"Gabtali",
					"Kahaloo",
					"Nandigram",
					"Sariakandi",
					"Shajahanpur",
					"Sherpur",
					"Shibganj",
					"Sonatola"
				),
				"Naogaon" => array( 
					"Atrai",
					"Badalgachhi",
					"Manda",
					"Dhamoirhat",
					"Mohadevpur",
					"Naogaon Sadar",
					"Niamatpur",
					"Patnitala",
					"Porsha",
					"Raninagar",
					"Sapahar"
				),
				"Natore" => array( 
				    "Bagatipara",
				    "Baraigram",
				    "Gurudaspur",
				    "Lalpur",
				    "Natore Sadar",
				    "Singra",
				    "Naldanga",
				),
				"Nawabganj" => array( 
				    "Bholahat",
				    "Gomastapur",
				    "Nachole",
				    "Nawabganj Sadar",
				    "Shibganj",
				),
				"Pabna" => array( 
				    "Ataikula",
				    "Atgharia",
				    "Bera",
				    "Bhangura",
				    "Chatmohar",
				    "Faridpur",
				    "Ishwardi",
				    "Pabna Sadar",
				    "Santhia",
				    "Sujanagar",
				),
				"Sirajganj" => array( 
				    "Belkuchi",
				    "Chauhali",
				    "Kamarkhanda",
				    "Kazipur",
				    "Raiganj",
				    "Shahjadpur",
				    "Sirajganj Sadar",
				    "Tarash",
				    "Ullahpara",
				),
				"Rajshahi" => array( 
				    "Bagha",
				    "Bagmara",
				    "Charghat",
				    "Durgapur",
				    "Godagari",
				    "Mohanpur",
				    "Paba",
				    "Puthia",
				    "Tanore",
				) 
			),
			"Rangpur" =>array( 
				"Dinajpur" => array( 
				    "Birampur",
				    "Birganj",
				    "Biral",
				    "Bochaganj",
				    "Chirirbandar",
				    "Phulbari",
				    "Ghoraghat",
				    "Hakimpur",
				    "Kaharole",
				    "Khansama",
				    "Dinajpur Sadar",
				    "Nawabganj",
				    "Parbatipur"
				),
				"Gaibandha" => array( 
				    "Phulchhari",
				    "Gaibandha Sadar",
				    "Gobindaganj",
				    "Palashbari",
				    "Sadullapur",
				    "Sughatta",
				    "Sundarganj",
				),
				"Kurigram" => array( 
				    "Bhurungamari",
				    "Char Rajibpur",
				    "Chilmari",
				    "Phulbari",
				    "Kurigram Sadar",
				    "Nageshwari",
				    "Rajarhat",
				    "Raomari",
				    "Ulipur"
				),
				"Lalmonirhat" => array( 
				    "Aditmari",
				    "Hatibandha",
				    "Kaliganj",
				    "Lalmonirhat Sadar",
				    "Patgram"
				),
				"Nilphamari" => array( 
				    "Dimla",
				    "Domar",
				    "Jaldhaka",
				    "Kishoreganj",
				    "Nilphamari Sadar",
				    "Saidpur",
				),
				"Panchagarh" => array( 
				    "Atwari",
				    "Boda",
				    "Debiganj",
				    "Panchagarh Sadar",
				    "Tetulia"
				),
				"Rangpur" => array( 
				    "Badarganj",
				    "Gangachhara",
				    "Kaunia",
				    "Rangpur Sadar",
				    "Mithapukur",
				    "Pirgachha",
				    "Pirganj",
				    "Taraganj"
				),
				"Thakurgaon" => array( 
				    "Baliadangi",
				    "Haripur",
				    "Pirganj",
				    "Ranisankail",
				    "Thakurgaon Sadar"
				)
			),
			"Mymensingh" => array( 
				"Netrokona" => array( 
				    "Atpara",
				    "Barhatta",
				    "Durgapur",
				    "Khaliajuri",
				    "Kalmakanda",
				    "Kendua",
				    "Madan",
				    "Mohanganj",
				    "Netrokona Sadar",
				    "Purbadhala"
				),
				"Sherpur" => array( 
				    "Jhenaigati",
				    "Nakla",
				    "Nalitabari",
				    "Sherpur Sadar",
				    "Sreebardi"
				),
				"Jamalpur" => array( 
				    "Baksiganj",
				    "Dewanganj",
				    "Islampur",
				    "Jamalpur Sadar",
				    "Madarganj",
				    "Melandaha",
				    "Sarishabari"
				),
				"Mymensingh" => array( 
				    "Bhaluka",
				    "Dhobaura",
				    "Fulbaria",
				    "Gaffargaon",
				    "Gauripur",
				    "Haluaghat",
				    "Ishwarganj",
				    "Mymensingh Sadar",
				    "Muktagachha",
				    "Nandail",
				    "Phulpur",
				    "Trishal",
				    "Tara Khanda"
				) 
			),
			"Barisal" => array( 
				"Barguna" => array( 
				    "Amtali",
				    "Bamna",
				    "Barguna Sadar",
				    "Betagi",
				    "Patharghata",
				    "Taltoli",
				),
				"Barisal" => array( 
				    "Agailjhara",
				    "Babuganj",
				    "Bakerganj",
				    "Banaripara",
				    "Gaurnadi",
				    "Hizla",
				    "Barisal Sadar",
				    "Mehendiganj",
				    "Muladi",
				    "Wazirpur"
				),
				"Bhola" => array( 
				    "Bhola Sadar",
				    "Burhanuddin",
				    "Char Fasson",
				    "Daulatkhan",
				    "Lalmohan",
				    "Manpura",
				    "Tazumuddin"
				),
				"Jhalokati" => array( 
				    "Jhalokati Sadar",
				    "Kathalia",
				    "Nalchity",
				    "Rajapur"
				),
				"Patuakhali" => array( 
				    "Bauphal",
				    "Dashmina",
				    "Galachipa",
				    "Kalapara",
				    "Mirzaganj",
				    "Patuakhali Sadar",
				    "Rangabali",
				    "Dumki"
				),
				"Pirojpur" => array( 
				    "Bhandaria",
				    "Kawkhali",
				    "Mathbaria",
				    "Nazirpur",
				    "Pirojpur Sadar",
				    "Nesarabad (Swarupkati)",
				    "Zianagor"
				)
			),
			"Chittagong" => array( 
				"Bandarban" => array( 
				   "Ali Kadam",
				    "Bandarban Sadar",
				    "Lama",
				    "Naikhongchhari",
				    "Rowangchhari",
				    "Ruma",
				    "Thanchi"
				),
				"Brahmanbaria" => array( 
				    "Akhaura",
				    "Bancharampur",
				    "Brahmanbaria Sadar",
				    "Kasba",
				    "Nabinagar",
				    "Nasirnagar",
				    "Sarail",
				    "Ashuganj",
				    "Bijoynagar"
				),
				"Chandpur" => array( 
				    "Chandpur Sadar",
				    "Faridganj",
				    "Haimchar",
				    "Haziganj",
				    "Kachua",
				    "Matlab Dakshin",
				    "Matlab Uttar",
				    "Shahrasti"
				),
				"Chittagong" => array( 
				    "Anwara",
				    "Banshkhali",
				    "Boalkhali",
				    "Chandanaish",
				    "Fatikchhari",
				    "Hathazari",
				    "Karnaphuli",
				    "Lohagara",
				    "Mirsharai",
				    "Patiya",
				    "Rangunia",
				    "Raozan",
				    "Sandwip",
				    "Satkania",
				    "Sitakunda",
				    "Bandar",
				    "Chandgaon",
				    "Double Mooring",
				    "Kotwali",
				    "Pahartali",
				    "Panchlaish",
				    "Bhujpur"
				),
				"Comilla" => array( 
				    "Barura",
				    "Brahmanpara",
				    "Burichang",
				    "Chandina",
				    "Chauddagram",
				    "Daudkandi",
				    "Debidwar",
				    "Homna",
				    "Laksam",
				    "Muradnagar",
				    "Nangalkot",
				    "Comilla Adarsha Sadar",
				    "Meghna",
				    "Titas",
				    "Monohargonj",
				    "Comilla Sadar Dakshin"
				),
				"Cox's Bazar" => array( 
				    "Chakaria",
				    "Cox's Bazar Sadar",
				    "Kutubdia",
				    "Maheshkhali",
				    "Ramu",
				    "Teknaf",
				    "Ukhia",
				    "Pekua"
				),
				"Feni" => array( 
				    "Chhagalnaiya",
				    "Daganbhuiyan",
				    "Feni Sadar",
				    "Parshuram",
				    "Sonagazi",
				    "Fulgazi"
				),
				"Khagrachhari" => array( 
				    "Dighinala",
				    "Khagrachhari",
				    "Lakshmichhari",
				    "Mahalchhari",
				    "Manikchhari",
				    "Matiranga",
				    "Panchhari",
				    "Ramgarh"
				),
				"Lakshmipur" => array( 
				    "Lakshmipur Sadar",
				    "Raipur",
				    "Ramganj",
				    "Ramgati",
				    "Kamalnagar"
				),
				"Noakhali" => array( 
				    "Begumganj",
				    "Noakhali Sadar",
				    "Chatkhil",
				    "Companiganj",
				    "Hatiya",
				    "Senbagh",
				    "Sonaimuri",
				    "Subarnachar",
				    "Kabirhat"
				),
				"Rangamati" => array( 
				    "Bagaichhari",
				    "Barkal",
				    "Kawkhali (Betbunia)",
				    "Belaichhari",
				    "Kaptai",
				    "Juraichhari",
				    "Langadu",
				    "Naniyachar",
				    "Rajasthali",
				    "Rangamati Sadar"
				)
			),
			"Dhaka" => array( 
				"Dhaka" => array( 
					"Adabor",
					"Badda",
					"Bangsal",
					"Bimanbandar",
					"Cantonment",
					"Chak Bazar",
					"Dakshinkhan",
					"Darus Salam",
					"Demra",
					"Dhamrai",
					"Dhanmondi",
					"Dohar",
					"Gendaria",
					"Gulshan",
					"Hazaribagh",
					"Jatrabari",
					"Kadamtali",
					"Kafrul",
					"Kalabagan",
					"Kamrangirchar",
					"Keraniganj",
					"Khilgaon",
					"khilkhet",
					"Kotwali",
					"Lalbagh",
					"Mirpur",
					"Mohammadpur",
					"Motijheel",
					"Nawabganj",
					"Newmarket",
					"Pallabi",
					"Paltan",
					"Ramna",
					"Rampura",
					"Sabujbagh",
					"Savar",
					"Shah Ali",
					"Shahbag",
					"Sher-e-Bangla Nagar",
					"Shyampur",
					"Sutrapur",
					"Tejgaon",
					"Mohakhali",
					"Tejgaon Industrial Area",
					"Turag",
					"Uttara",
					"Uttar Khan"
				),
				"Gazipur" => array( 
				    "Gazipur Sadar",
				    "Kaliakair",
				    "Kaliganj",
				    "Kapasia",
				    "Sreepur"
				),
				"Gopalganj" => array( 
				    "Gopalganj Sadar",
				    "Kashiani",
				    "Kotalipara",
				    "Muksudpur",
				    "Tungipara"
				),
				"Kishoreganj" => array( 
				    "Austagram",
				    "Bajitpur",
				    "Bhairab",
				    "Hossainpur",
				    "Itna",
				    "Karimganj",
				    "Katiadi",
				    "Kishoreganj Sadar",
				    "Kuliarchar",
				    "Mithamain",
				    "Nikli",
				    "Pakundia",
				    "Tarail"
				),
				"Madaripur" => array( 
				    "Rajoir",
				    "Madaripur Sadar",
				    "Kalkini",
				    "Shibchar"
				),
				"Manikganj" => array( 
				    "Daulatpur",
				    "Ghior",
				    "Harirampur",
				    "Manikgonj Sadar",
				    "Saturia",
				    "Shivalaya",
				    "Singair"
				),
				"Munshiganj" => array( 
				    "Gazaria",
				    "Lohajang",
				    "Munshiganj Sadar",
				    "Sirajdikhan",
				    "Sreenagar",
				    "Tongibari"
				),
				"Narayanganj" => array( 
				    "Araihazar",
				    "Bandar",
				    "Narayanganj Sadar",
				    "Rupganj",
				    "Sonargaon"
				),
				"Rajbari" => array( 
				    "Baliakandi",
				    "Goalandaghat",
				    "Pangsha",
				    "Rajbari Sadar",
				    "Kalukhali"
				),
				"Shariatpur" => array( 
				    "Bhedarganj",
				    "Damudya",
				    "Gosairhat",
				    "Naria",
				    "Shariatpur Sadar",
				    "Zajira",
				    "Shakhipur"
				),
				"Faridpur" => array( 
				    "Alfadanga",
				    "Bhanga",
				    "Boalmari",
				    "Charbhadrasan",
				    "Faridpur Sadar",
				    "Madhukhali",
				    "Nagarkanda",
				    "Sadarpur",
				    "Saltha"
				),
				"Tangail" => array( 
				    "Gopalpur",
				    "Basail",
				    "Bhuapur",
				    "Delduar",
				    "Ghatail",
				    "Kalihati",
				    "Madhupur",
				    "Mirzapur",
				    "Nagarpur",
				    "Sakhipur",
				    "Dhanbari",
				    "Tangail Sadar"
				),
				"Narsingdi" => array( 
				    "Narsingdi Sadar",
				    "Belabo",
				    "Monohardi",
				    "Palash",
				    "Raipura",
				    "Shibpur"
				)	
			),
			"Khulna" => array( 
				"Bagerhat" => array( 
				    "Bagerhat Sadar",
				    "Chitalmari",
				    "Fakirhat",
				    "Kachua",
				    "Mollahat",
				    "Mongla",
				    "Morrelganj",
				    "Rampal",
				    "Sarankhola"
				),
				"Chuadanga" => array( 
				    "Alamdanga",
				    "Chuadanga Sadar",
				    "Damurhuda",
				    "Jibannagar"
				),
				"Jessore" => array( 
				    "Abhaynagar",
				    "Bagherpara",
				    "Chaugachha",
				    "Jhikargachha",
				    "Keshabpur",
				    "Jessore Sadar",
				    "Manirampur",
				    "Sharsha"
				),
				"Jhenaida" => array( 
				    "Harinakunda",
				    "Jhenaidah Sadar",
				    "Kaliganj",
				    "Kotchandpur",
				    "Maheshpur",
				    "Shailkupa"
				),
				"Khulna" => array( 
				    "Batiaghata",
				    "Dacope",
				    "Dumuria",
				    "Dighalia",
				    "Koyra",
				    "Paikgachha",
				    "Phultala",
				    "Rupsha",
				    "Terokhada",
				    "Daulatpur",
				    "Khalishpur",
				    "Khan Jahan Ali",
				    "Kotwali",
				    "Sonadanga",
				    "Harintana"
				),
				"Kushtia" => array( 
				    "Bheramara",
				    "Daulatpur",
				    "Khoksa",
				    "Kumarkhali",
				    "Kushtia Sadar",
				    "Mirpur"
				),
				"Magura" => array( 
				    "Magura Sadar",
				    "Mohammadpur",
				    "Shalikha",
				    "Sreepur"
				),
				"Meherpur" => array( 
				    "Gangni",
				    "Meherpur Sadar",
				    "Mujibnagar"
				),
				"Narail" => array( 
				    "Kalia",
				    "Lohagara",
				    "Narail Sadar",
				    "Naragati"
				),
				"Satkhira" => array( 
				    "Assasuni",
				    "Debhata",
				    "Kalaroa",
				    "Kaliganj",
				    "Satkhira Sadar",
				    "Shyamnagar",
				    "Tala"
				)
			),
			"Sylhet" => array( 
				"Habiganj" => array( 
				    "Ajmiriganj",
				    "Bahubal",
				    "Baniyachong",
				    "Chunarughat",
				    "Habiganj Sadar",
				    "Lakhai",
				    "Madhabpur",
				    "Nabiganj"
				),
				"Moulvibazar" => array( 
				    "Barlekha",
				    "Kamalganj",
				    "Kulaura",
				    "Moulvibazar Sadar",
				    "Rajnagar",
				    "Sreemangal",
				    "Juri"
				),
				"Sunamganj" => array( 
				    "Bishwamvarpur",
				    "Chhatak",
				    "Derai",
				    "Dharamapasha",
				    "Dowarabazar",
				    "Jagannathpur",
				    "Jamalganj",
				    "Sullah",
				    "Sunamganj Sadar",
				    "Tahirpur",
				    "Dakshin Sunamganj"
				),
				"Sylhet" => array( 
				    "Balaganj",
				    "Beanibazar",
				    "Bishwanath",
				    "Companigonj",
				    "Fenchuganj",
				    "Golapganj",
				    "Gowainghat",
				    "Jaintiapur",
				    "Kanaighat",
				    "Sylhet Sadar",
				    "Zakiganj",
				    "South Surma",
				    "Osmani Nagar"
				)
			)
		); 



if( isset($_POST['division']) ){
	$return = new stdClass();
	$get_division = isset($_POST['division'])?$_POST['division']:' ';

	if( array_key_exists($get_division, $bd_addressbook) ){
		$district = array_keys($bd_addressbook[$get_division]);
		$district_cnt = count($bd_addressbook[$get_division]);
		if( $district_cnt < 1 ){
			$return->error[] = 'No district found with selected division';
		}else{
			if( !isset($_POST['district']) && !isset($_POST['upzilla']) ){
				for( $i=1; $district_cnt>=$i; $i++ ){
					$return->address['district'][] = $district[$i-1];
				}
			}else{
				if( isset($_POST['district']) ){
					$get_district = isset($_POST['district'])?$_POST['district']:' ';
					if( array_key_exists($get_district, $bd_addressbook[$get_division]) ){
						$upzilla = $bd_addressbook[$get_division][$get_district];
						$upzilla_cnt = count($bd_addressbook[$get_division][$get_district]);
						if( $upzilla_cnt < 1 ){
							$return->error[] = 'No upzilla found with selected district';
						}else{
							if( !isset($_POST['upzilla']) ){
								for( $i=1; $upzilla_cnt>=$i; $i++ ){
									$return->address['upzilla'][] = $upzilla[$i-1];
								}
							}else{
								if( isset($_POST['upzilla']) ){

									$get_upzilla = isset($_POST['upzilla'])?$_POST['upzilla']:' ';
									if( in_array($get_upzilla, $bd_addressbook[$get_division][$get_district]) ){
										$return->address['po'] = true;
									}else{
										$return->error[] = 'Selected upzilla doesn\'t exist on database';
									}
								}
							}
						}
					}else{
						$return->error[] = 'Selected district doesn\'t exist on database';
					}
				}
			}
		}
	}else{
		$return->error[] = 'Selected division doesn\'t exist on database';
	}
	echo json_encode($return);
}
/*elseif( isset($_POST['division']) && isset($_POST['district']) && isset($_POST['upzilla']) ){

	$get_division = isset($_POST['division'])?$_POST['division']:' ';
	$get_district = isset($_POST['district'])?$_POST['district']:' ';
	$get_upzilla = isset($_POST['upzilla'])?$_POST['upzilla']:' ';

	if( array_key_exists($get_division, $bd_addressbook) ){
		if( array_key_exists($get_district, $bd_addressbook[$get_division]) ){
			if( in_array($get_upzilla, $bd_addressbook[$get_division][$get_district]) ){
				$return->address[] = true;
			}else{
				$return->error[] = 'Selected upzilla doesn\'t exist on database';
			}
		}else{
			$return->error[] = 'Selected district doesn\'t exist on database';
		}
	}else{
		$return->error[] = 'Selected division doesn\'t exist on database';
	}
	echo json_encode($return);
}*/


?> 